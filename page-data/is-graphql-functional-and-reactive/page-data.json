{"componentChunkName":"component---src-templates-blog-post-js","path":"/is-graphql-functional-and-reactive/","webpackCompilationHash":"f30d39c4d948d8fca669","result":{"data":{"site":{"siteMetadata":{"title":":heart: React","author":"Metamn"}},"markdownRemark":{"id":"6c277993-1047-5569-ba4b-3267a66a2ef1","excerpt":"GraphQL comes from the same family as React. And React is functional and reactive.","html":"<p>GraphQL comes from the same family as React. And React is functional and reactive.</p>\n<!--more-->\n<p>A quick investigation is necessary.</p>\n<h2>A short history</h2>\n<p>GraphQL was developed by Facebook at the same time when React was created. Perhaps they were meant to be perfect running mates.</p>\n<p>Both of them define a new era in their own domain: React in web frameworks and GraphQL in APIs. </p>\n<p>The list of features on <a href=\"https://graphql.org/\">GraphQL.org</a> clearly points to a paradigm shift:</p>\n<ul>\n<li>Ask for what you need, get exactly that</li>\n<li>Get many resources in a single request</li>\n<li>Describe whatâ€™s possible with a type system</li>\n<li>Evolve your API without versions</li>\n</ul>\n<p>React <a href=\"http://metamn.io/react/react-follows-the-functional-reactive-programming-paradigm/\">managed</a> to change the status quo by embracing functional reactive programming. One might wonder if GraphQL choose the same approach.</p>\n<h2>Functional reactive programming</h2>\n<p>What makes a system functional and reactive is extracted in the list below from Daniel Lewâ€™s excellent article <a href=\"https://blog.danlew.net/2017/07/27/an-introduction-to-functional-reactive-programming/\">An Introduction to Functional Reactive Programming</a>.</p>\n<p>Acronym R stands for reactive, F for functional programming.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">|---------|-------------|-------------------------------------------------------------------------|\n| Acronym | Feature     | Description                                                             |\n|---------|-------------|-------------------------------------------------------------------------|\n| R-1     | Isolation   | Components are aware of, and care about their own problems only         |\n| R-2     | Isolation   | Components does not interfere with each otherâ€™s inner workings          |\n| R-3     | Async       | Components communicate in an asynchronously                             |\n| F-1     | Composition | Components have clear and stable interfaces                             |\n| F-2     | Composition | During execution a component doesn&#39;t modify its input parameters        |\n| F-3     | Composition | No external information is used to produce the return value             |\n| F-4     | Composition | No additional operations are performed beside the planned functionality |</code></pre></div>\n<p>If GraphQL meets these features it can be considered functional and reactive.</p>\n<h2>How GraphQL works</h2>\n<p>Like every API â€” GraphQL is built on three main concepts:</p>\n<ul>\n<li><strong>Client</strong>: makes data requests to a backend</li>\n<li><strong>Endpoint</strong>: One or more URLs where requests are sent and from where the results are received</li>\n<li><strong>Backend</strong>: Processes the requests and returns data</li>\n</ul>\n<p>Speaking in code (GraphQL):</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># The client sends a data request to the backend</span>\n<span class=\"token comment\">#</span>\nGET /graphql?query<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span> book<span class=\"token punctuation\">(</span>id: <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> title, author <span class=\"token punctuation\">{</span> firstName <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># `/graphql` is an endpoint which receives the request ...</span>\n<span class=\"token comment\"># ... and forwards to the backend</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># `{ title, author { firstName } }` is the shape of data ...</span>\n<span class=\"token comment\"># ... the clients wants to receive</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/**\n * The backend processes the request using resolvers\n * ... and returns the results\n */</span>  \n<span class=\"token keyword\">const</span> resolvers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  Query<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">author</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">root<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> id <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">find</span><span class=\"token punctuation\">(</span>authors<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> id<span class=\"token punctuation\">:</span> id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  Author<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">books</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">author</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>books<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> authorId<span class=\"token punctuation\">:</span> author<span class=\"token punctuation\">.</span>id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/**\n * Finally the client receives the result.\n * \n * The result has the shape defined by the client at request\n */</span> \n<span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"title\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Black Hole Blues\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"author\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"firstName\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Janna\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Calling the client, the endpoint and the backend as <em>components</em> of the GraphQL system it can be verified if they fulfill the traits of a functional reactive system. </p>\n<h2>Isolation</h2>\n<p>GraphQL components are (clearly) decoupled. They all work in isolation and donâ€™t interfere in each otherâ€™s inner workings.</p>\n<p>These statements can be further articulated with another example using REST, the predecessor of GraphQL. </p>\n<p>Speaking code, again, the original example above in REST is:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># The client sends a data request to the backend</span>\n<span class=\"token comment\">#</span>\nGET /books/1\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># `/books` is an endpoint which receives the request</span>\n<span class=\"token comment\"># The client needs to know in advance if there is a `/books` endpoint.</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># More, if it wants to retrieve `authors`, `comments`, ... </span>\n<span class=\"token comment\"># ... it needs to know in advance if these endpoints exists.</span>\n<span class=\"token comment\"># Like:</span>\n<span class=\"token comment\"># - GET /authors/1</span>\n<span class=\"token comment\"># - GET /comments/1</span>\n<span class=\"token comment\"># - GET /authors/1/comments</span>\n<span class=\"token comment\"># - ... and lots of others for POST, DELETE and REST verbs.</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># ðŸ¢¥ In REST the client is tightly coupled ...</span>\n<span class=\"token comment\"># ... to the URL endpoints</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/**\n * The backend processes the request using URL handlers\n * \n * For every resource (`book`, `author`, ...) and \n * operation (`get`, `delete') there should be \n * a corresponding URL handler\n * \n * Like:\n *  - app.get('books', ...)\n *  - app.get('authors', ...)\n *  - app.get('comments', ...)\n *  - ... and lots of others for `put`, `delete`, `post`, `patch`\n * \n * ðŸ¢¥ In REST the URL endpoints are tightly coupled to ...\n * ... the URL handlers on the backend\n */</span>  \napp<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/books'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> id <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span>id\n  <span class=\"token keyword\">const</span> book <span class=\"token operator\">=</span> <span class=\"token function\">find</span><span class=\"token punctuation\">(</span>books<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> id<span class=\"token punctuation\">:</span> id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> author <span class=\"token operator\">=</span> <span class=\"token function\">find</span><span class=\"token punctuation\">(</span>authors<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>id<span class=\"token punctuation\">:</span> book<span class=\"token punctuation\">.</span>authorID<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">/**\n  * The shape of the return data needs to be assembled.\n  * And it is done arbitrarily.\n  * The client has no influence about the shape returned.\n  */</span> \n  <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n\t  title<span class=\"token punctuation\">:</span> book<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">,</span>\n\t  author<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n\t\t  firstName<span class=\"token punctuation\">:</span> author<span class=\"token punctuation\">.</span>firstName<span class=\"token punctuation\">,</span>\n\t\t  lastName<span class=\"token punctuation\">:</span> author<span class=\"token punctuation\">.</span>lastName\n\t  <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  res<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span>author<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/**\n * Finally the client receives the result.\n * \n * The result has a shape defined by the backend\n * \n * In REST the client is tightly coupled to the backend.\n */</span> \n<span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"title\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Black Hole Blues\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"author\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> \n    <span class=\"token string\">\"firstName\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Janna\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"lastName\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Levin\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Wrapping up</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># REST</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># - All three components have a quasi 1-to-1 relationship</span>\n<span class=\"token comment\"># - They are all tightly coupled (The list can't be reduced)</span>\n<span class=\"token comment\">#</span>\n<span class=\"token operator\">|</span>------------------------------------------------------------<span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> Client requests <span class=\"token operator\">|</span> URL Endpoints <span class=\"token operator\">|</span> URL Handlers             <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>-----------------<span class=\"token operator\">|</span>---------------<span class=\"token operator\">|</span>--------------------------<span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> GET /books/1    <span class=\"token operator\">|</span> /books        <span class=\"token operator\">|</span> app.get<span class=\"token punctuation\">(</span><span class=\"token string\">'books'</span>, <span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">)</span>    <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> GET /authors/1  <span class=\"token operator\">|</span> /authors      <span class=\"token operator\">|</span> app.get<span class=\"token punctuation\">(</span><span class=\"token string\">'authors'</span>, <span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">)</span>  <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> GET /comments/1 <span class=\"token operator\">|</span> /comments     <span class=\"token operator\">|</span> app.get<span class=\"token punctuation\">(</span><span class=\"token string\">'comments'</span>, <span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> DELETE /books/1 <span class=\"token operator\">|</span> /books        <span class=\"token operator\">|</span> app.delete<span class=\"token punctuation\">(</span><span class=\"token string\">'books'</span>, <span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>------------------------------------------------------------<span class=\"token operator\">|</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># GraphQL</span>\n<span class=\"token comment\">#</span>\n<span class=\"token operator\">|</span>---------------------------------------------------------------------------<span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> Client requests                       <span class=\"token operator\">|</span> URL Endpoints <span class=\"token operator\">|</span> URL handlers      <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>---------------------------------------<span class=\"token operator\">|</span>---------------<span class=\"token operator\">|</span>-------------------<span class=\"token operator\">|</span> \n<span class=\"token operator\">|</span> GET /graphql?query<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>book<span class=\"token punctuation\">(</span>id: <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>    <span class=\"token operator\">|</span> /graphql      <span class=\"token operator\">|</span> resolvers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">}</span> <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> GET /graphql?query<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>author<span class=\"token punctuation\">(</span>id: <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>  <span class=\"token operator\">|</span> /graphql      <span class=\"token operator\">|</span> resolvers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">}</span> <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> GET /graphql?query<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>comment<span class=\"token punctuation\">(</span>id: <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">|</span> /graphql      <span class=\"token operator\">|</span> resolvers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">}</span> <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> GET /graphql?mutation<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>book<span class=\"token punctuation\">(</span>id: <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">|</span> /graphql      <span class=\"token operator\">|</span> resolvers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">}</span> <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>---------------------------------------------------------------------------<span class=\"token operator\">|</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># - All components above can be further reduced</span>\n<span class=\"token comment\"># - Which makes them loosely coupled</span>\n<span class=\"token comment\">#</span>\n<span class=\"token operator\">|</span> GET /graphql?<span class=\"token operator\">&lt;</span>OPERATION<span class=\"token operator\">></span><span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token operator\">&lt;</span>PARAMS<span class=\"token operator\">></span><span class=\"token punctuation\">}</span>    <span class=\"token operator\">|</span> /graphql      <span class=\"token operator\">|</span> resolvers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">}</span> <span class=\"token operator\">|</span></code></pre></div>\n<p>Or, illustrated with a diagram:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># REST</span>\n<span class=\"token comment\">#</span>\n<span class=\"token operator\">|</span>-----------------<span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>-----------<span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>-----------------------------<span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> Client          <span class=\"token operator\">|</span>         <span class=\"token operator\">|</span> Endpoints <span class=\"token operator\">|</span>         <span class=\"token operator\">|</span> Handlers                    <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>-----------------<span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>-----------<span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>-----------------------------<span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> GET /books/1    <span class=\"token operator\">|</span> <span class=\"token operator\">&lt;</span>-----<span class=\"token operator\">></span> <span class=\"token operator\">|</span> /books    <span class=\"token operator\">|</span> <span class=\"token operator\">&lt;</span>-----<span class=\"token operator\">></span> <span class=\"token operator\">|</span> app.get<span class=\"token punctuation\">(</span><span class=\"token string\">'books'</span>, <span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">)</span>       <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> GET /authors/1  <span class=\"token operator\">|</span> <span class=\"token operator\">&lt;</span>-----<span class=\"token operator\">></span> <span class=\"token operator\">|</span> /authors  <span class=\"token operator\">|</span> <span class=\"token operator\">&lt;</span>-----<span class=\"token operator\">></span> <span class=\"token operator\">|</span> app.get<span class=\"token punctuation\">(</span><span class=\"token string\">'authors'</span>, <span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">)</span>     <span class=\"token operator\">|</span>       \n<span class=\"token operator\">|</span> GET /comments/1 <span class=\"token operator\">|</span> <span class=\"token operator\">&lt;</span>-----<span class=\"token operator\">></span> <span class=\"token operator\">|</span> /comments <span class=\"token operator\">|</span> <span class=\"token operator\">&lt;</span>-----<span class=\"token operator\">></span> <span class=\"token operator\">|</span> app.get<span class=\"token punctuation\">(</span><span class=\"token string\">'comments'</span>, <span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">)</span>    <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> DELETE /books/1 <span class=\"token operator\">|</span> <span class=\"token operator\">&lt;</span>-----<span class=\"token operator\">></span> <span class=\"token operator\">|</span> /books    <span class=\"token operator\">|</span> <span class=\"token operator\">&lt;</span>-----<span class=\"token operator\">></span> <span class=\"token operator\">|</span> app.delete<span class=\"token punctuation\">(</span><span class=\"token string\">'books'</span>, <span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">)</span>    <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>-----------------<span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>-----------<span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>-----------------------------<span class=\"token operator\">|</span>\n\n<span class=\"token comment\"># GraphQL</span>\n<span class=\"token comment\">#</span>\n<span class=\"token operator\">|</span>---------------------------------<span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>----------<span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>-------------------<span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> Client                          <span class=\"token operator\">|</span>         <span class=\"token operator\">|</span> Endpoint <span class=\"token operator\">|</span>         <span class=\"token operator\">|</span> Resolvers         <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>---------------------------------<span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>----------<span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>-------------------<span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> GET /graphql?query<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">}</span>        <span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>          <span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>                   <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> GET /graphql?mutation<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">}</span>     <span class=\"token operator\">|</span> <span class=\"token operator\">&lt;</span>-----<span class=\"token operator\">></span> <span class=\"token operator\">|</span> /graphql <span class=\"token operator\">|</span> <span class=\"token operator\">&lt;</span>-----<span class=\"token operator\">></span> <span class=\"token operator\">|</span> resolvers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">}</span> <span class=\"token operator\">|</span>       \n<span class=\"token operator\">|</span> GET /graphql?subscription<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">}</span> <span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>          <span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>                   <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>---------------------------------<span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>----------<span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>-------------------<span class=\"token operator\">|</span></code></pre></div>\n<h2>Composition</h2>\n<p>Letâ€™s examine again the two ways of writing code on the backend:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/**\n * GraphQL\n */</span>  \n<span class=\"token keyword\">const</span> resolvers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  Query<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">author</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">root<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> id <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">find</span><span class=\"token punctuation\">(</span>authors<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> id<span class=\"token punctuation\">:</span> id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  Author<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">books</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">author</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>books<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> authorId<span class=\"token punctuation\">:</span> author<span class=\"token punctuation\">.</span>id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/**\n * REST\n */</span> \napp<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/books'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> id <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span>id\n  <span class=\"token keyword\">const</span> book <span class=\"token operator\">=</span> <span class=\"token function\">find</span><span class=\"token punctuation\">(</span>books<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> id<span class=\"token punctuation\">:</span> id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> author <span class=\"token operator\">=</span> <span class=\"token function\">find</span><span class=\"token punctuation\">(</span>authors<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>id<span class=\"token punctuation\">:</span> book<span class=\"token punctuation\">.</span>authorID<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n\t  title<span class=\"token punctuation\">:</span> book<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">,</span>\n\t  author<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n\t\t  firstName<span class=\"token punctuation\">:</span> author<span class=\"token punctuation\">.</span>firstName<span class=\"token punctuation\">,</span>\n\t\t  lastName<span class=\"token punctuation\">:</span> author<span class=\"token punctuation\">.</span>lastName\n\t  <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  res<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span>author<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>The first approach seem to be pure functional while the second procedural.</p>\n<p>Both of them seem to satisfy conditions F-1 and F-2: stable interfaces, and input parameters kept unmodified.</p>\n<p>Only GraphQL seem to satisfy conditions F-3, F-4: Use no external information nor additional operations.</p>\n<p>REST uses an external resource (<code class=\"language-text\">authors</code>) and performs an additional operation (<code class=\"language-text\">const result=</code>) during execution.</p>\n<h2>Finally</h2>\n<p>This thought-play can be easily called <em>speculation</em> by a rigorous reader. </p>\n<p>For example the code for <code class=\"language-text\">app.get(&#39;/books&#39;, ...)</code> can be written to be fully functional.\nHowever this is the way youâ€™ll find it written in majority of REST APIs. </p>\n<p>The goal of this document was never to demonstrate scientifically GraphQL follows the functional reactive pardigm. The goal was to ask the question and try to give an answer.</p>\n<p>The reader is free to decide in what measure this exercise was successful. Until then a little help from others.</p>\n<h3>Apollo and Expedia</h3>\n<p>From the article: <a href=\"https://www.apollographql.com/customers/expediagroup/\">Expedia Group Transforms Product Development with Apollo</a></p>\n<h4>Before adopting a data graph</h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 673px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/react/static/14834da9e6e0ba14c0ab029894a06b07/96ffc/graphql-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.08618127786033%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAAC3UlEQVQoz2NgwAQqLCzs/DCOibk2o4aOgpijvQ8TiK+jryFpYKyvAGKbWZiymZobm+vqmrKAFTMxiIBpO4VdDLqaVhAD9HxkBfj5OGAGRvm3M6ZFTZW2DWZgBPFTIyeLRgXWi4LYAe5FrOEBhTrTt/OB5bSUXeEOYYhxOAsWTPa84OSrf1IcxNbl2cbYlv+QMSfkvJEBz0mwC5dOeSmS6nNGs6FsI9hVpTE3DVJ9TwozMFQzxTlfkAW7DoSNRTaDDTYT32pqK7/T21F5LwvMMk2ODUK2cjsFfQ0P8AG5QItbeBgYFgkyMCwXY2DwZmdgaBJwUd/DYyC4gZvBRmk32EAQsJXfxeaovFsGyNcAYkMglrBX3M2c4H6MOcj8oBBIzeP7Xysf3Ht54fL5R2cvnLl/9vHj50fu3ni/iJlhI4eLxm5eeBhCaT4gFgRiAZBhQKwExMr2irtEwm0PczMwZLFdu/Ax8+ypW2t2bb28eeOqS4dPn7iz4fGDjzXSDFt4HVV2CSIbxgo1kBuIuaCYFyomC3S9qpPKbm1BhlW6XAxbDXgYdugwMGwBunoGF0i/m9YOZqA6EYYAs4Mw7/K6aOxldlDezQtkgwwXd1DaLQakNYFYFehKQ6C4npvmXh1P3d0a7tq71D11dyl4G+xRCjA5IGEtu4vZQWmXMNgwFobJzI7Ku0RNxTfzmktslQZKiNjK71AxEdksZqe4UwwYSfIsDJNYgGxxO4WdoqosKzhs5HbIOCjv5AdGohyQrQC0UMlCYoc0w/V9/5liHM8pa7Ju505yv84fZX9OUZxhF0tb2n/mOJcLSubc95hirV+zxLteUDZmecnkJveCKdrxvEpN/E8WAYZzQDXnlScW/2c2E9su4G2w357B06FRIiVqrio4LYZ1isYEzVQDsZ1sCngTwuZogZKJpXk4R0LofD1QXhCUEGSJD52t5eteyQNSBxTX8XSuACfoysyzUgDktucNegfPzwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Before adopting a data graph\"\n        title=\"Before adopting a data graph\"\n        src=\"/react/static/14834da9e6e0ba14c0ab029894a06b07/96ffc/graphql-1.png\"\n        srcset=\"/react/static/14834da9e6e0ba14c0ab029894a06b07/72cd8/graphql-1.png 192w,\n/react/static/14834da9e6e0ba14c0ab029894a06b07/45483/graphql-1.png 384w,\n/react/static/14834da9e6e0ba14c0ab029894a06b07/96ffc/graphql-1.png 673w\"\n        sizes=\"(max-width: 673px) 100vw, 673px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h4>In between: experimenting with a Backend-For-Frontend, a pattern which mimics a data graph.</h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 707px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/react/static/bb657684779fcf903f23cfda5ab2d19b/331c8/graphql-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.48514851485149%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACrklEQVQoz2NgAAItPRUJbT01LhCbmZWBA0gpg9j84gxgoKUvL6iqKcsOYhsa64nrGmjIgdimZua8puZGBgwIoMjw//9/htKsxQpV+Ut5wZplo9jcbDPkQexQhzWMIDozeoFUZc5qbhA7P2mBQFX+clkQu6tjAmd6XLcOzDQPmzKwQxiYGU7xwgQbM16wBpme8LNR2MQEE0v2PCcXaXdcnIehB2jBRg4+hi0yQGGwZbIMhxQZGPq5XTR28GYH3lBmuHn5g8+hPXdCLp97EXbz0mc1BoZgZlv5HS52CrsMbeV2soI0STAsZXVW2y3MwFDOsnXlE719Wx+nrV14J2f57Ou5xw8+ilo974ETODiE1/MwvH7x7fGVy/fePX3y5vfXz39zgcLsUQ5HxIEGqgGxFhBLuKjvYSuJPwv2xZsXP/OePn3+8fat+w/Onbn98fHjZ+/v3fw0A+TiWJejfAz5weeYvPUOGbio7Y21kdspbSu3S8RecRcH0CBOIBYAYkkglgViYSAWtJPfpeCstkvTRW2Prav6PvcA48Ny4SbnGG1kd/KB5MFhpMy0jsNCcoearfwuN6CgAxDrAbESyHVALAPEUkCsA8RmQDWm1rI7La2kd2qbim0XNRHZJmosvI3NQWk3O8hysIGOKrt5XDX2sNkr7Zaxld+pDNRkApR0BNKeQBc5A9m+QLY1yDCg6w2BWNZeaZe2o/JueSBbBYgVgGr4ga6UABvopXeI21ltj7y17C4hZ7W9Ck6qexStZXYJOKvuVQUGhZiN3C45F/W9yo4qe+SBQaLsrLrHAOgiBVv53UDv79G1V9wNChIzoLgR2MDCxKOS6cHHwWkoN+aofHHiKbDTsyOOqVWknxYBsbPCj+lMar8ETou5USf0Nqy7zAplG4JoM7Ht7Jkhp8wBtMPs3mENnQIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"In between\"\n        title=\"In between\"\n        src=\"/react/static/bb657684779fcf903f23cfda5ab2d19b/331c8/graphql-2.png\"\n        srcset=\"/react/static/bb657684779fcf903f23cfda5ab2d19b/72cd8/graphql-2.png 192w,\n/react/static/bb657684779fcf903f23cfda5ab2d19b/45483/graphql-2.png 384w,\n/react/static/bb657684779fcf903f23cfda5ab2d19b/331c8/graphql-2.png 707w\"\n        sizes=\"(max-width: 707px) 100vw, 707px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h4>The move to one data graph</h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 703px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/react/static/7dfd9697bf7774ccbf5bb9604449fa3e/afda5/graphql-3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.76529160739687%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAAC6UlEQVQoz2PQ1FVm0dFTl/6v95/BSDWTAQR0DFT5NLQVuUHs////MwT6RXOYWRhrVpZMYS7Pm8MIEjcyM1QwtzRXBLEjffsYmBiEQeIqDHlJ81hTIyYrMCCBtMjpwiUZiwSQxWz1SySR+SnRXbJhAQUSMD7IYiezAlWGaU3PmAvCrslaSuzgc1LezWfAt4k7zvm0TJrPGRkuhqWc7YWXZFZPu2+wsP+557aVr/Sq085LcTMs4swOuCIfZX1FzER4I4+d3C5eD619AjXJj+TgNsY6HWWKsj/MGGZ5lAnEP7ftPpi+c+Z95ce7X/6fP3/z451bz//fvvolHiR+5MB5oLwYQ4TVCaYkj2NMziq7wUHBYK+wi9tNYy9/uN0B3jCb/bx+hgf4Iu0P8kU57uPX5TrMtWTiQ+V96184zpt02XXzyrsOc7ufyZrwH+eKdT3AH2xxgC/I7CBfnOtR3mCLg3xOKrv5GIDeRAkrVMApAiTEgRgUVqJQGhjefBLYVIfZHAa5chbn09v/BR49eLPn4YNXB25c+Br1/Pm7PXfvvNh67fyn2CdPXp26dePZmhsXP6Y+fPj8yq0bL+bcvvox+/GTl1fv3nrX+fjet5Jv335ff/b4Wx3U3E7OO/f+SP2Hgju3v7WD6L9f//y/e/d7F4j96dWXLw/ufZ8MYn949fX+44ff5oPYb559OfPy2ff1YPE3P3eDjdNgWcsX4XxIcuP8R/k7lz7J6W++br56xoOqtdMf5E9svWGxbfGT8s0LHsUtmX3f6NC6F0Xr5z0MXb3godmh9S/KVs164Ldu4UObPSsfl6+e88CNgWExJ0N38R/2SJtzYhDXVnOYiexThrBn80oyHOWEsGdwMDDsY4aw1wATvA7Ud9v5YOEnyLBGqDH/EitDoEe3RHrcAhmQYEbcPJnspCWyIHZu6jzpnJSF0iB2duJC+cyEBeCEnZ20SCktdr44RHyJSkr0DFDEMbRVXJQtSzvNBgC+5knBM+x69AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Data graph\"\n        title=\"Data graph\"\n        src=\"/react/static/7dfd9697bf7774ccbf5bb9604449fa3e/afda5/graphql-3.png\"\n        srcset=\"/react/static/7dfd9697bf7774ccbf5bb9604449fa3e/72cd8/graphql-3.png 192w,\n/react/static/7dfd9697bf7774ccbf5bb9604449fa3e/45483/graphql-3.png 384w,\n/react/static/7dfd9697bf7774ccbf5bb9604449fa3e/afda5/graphql-3.png 703w\"\n        sizes=\"(max-width: 703px) 100vw, 703px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>Resources</h2>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/GraphQL\">GraphQL</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/React_(web_framework)\">React (web framework)</a></li>\n<li><a href=\"http://metamn.io/react/react-follows-the-functional-reactive-programming-paradigm/\">React follows the functional reactive programming paradigm</a></li>\n<li><a href=\"https://blog.danlew.net/2017/07/27/an-introduction-to-functional-reactive-programming/\">An Introduction to Functional Reactive Programming</a></li>\n<li><a href=\"https://www.apollographql.com/customers/expediagroup/\">Expedia Group Transforms Product Development with Apollo</a></li>\n</ul>","frontmatter":{"title":"Is GraphQL functional and reactive?","date":"October 02, 2019"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/is-graphql-functional-and-reactive/","previous":{"excerpt":"Thatâ€™s a shift from the old proactive, imperative approach.","fields":{"slug":"/react-follows-the-functional-reactive-programming-paradigm/"},"frontmatter":{"title":"React follows the functional reactive programming paradigm"}},"next":{"excerpt":"Or else.","fields":{"slug":"/identify-the-right-leaders/"},"frontmatter":{"title":"Identify the right leaders"}}}}}